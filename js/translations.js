// js/translations.js

const translations = {
    en: {
        'app.name': 'Jinasaraswati',
        'app.subtitle': 'The Beginner\'s Jainism App',
        'navigation.home': 'Home',
        'navigation.profile': 'Profile',
        'navigation.settings': 'Settings',
        'home.welcome': 'Welcome back!',
        'home.welcomeGuest': 'Welcome, Seeker!',
        'home.yourProgress': 'Your Progress',
        'home.level': 'Level',
        'dailyPrashna.title': 'üìú Daily Prashna',
        'dailyPrashna.answer': 'Answer',
        'universes.fourUniverses': 'Four Universes of Knowledge',
        'universes.prathamanuyoga.name': 'PrathamƒÅnuyoga',
        'universes.prathamanuyoga.subtitle': 'The Universe of Narratives',
        'universes.prathamanuyoga.description': 'Learn foundational Jain concepts through sacred stories and teachings of the Tƒ´rtha·πÖkaras',
        'universes.karananuyoga.name': 'Kara·πáƒÅnuyoga',
        'universes.karananuyoga.subtitle': 'The Universe of Cosmology',
        'universes.karananuyoga.description': 'Explore the structure of the cosmos and understand Jain geography through 3D visualizations',
        'universes.charananuyoga.name': 'Chara·πáƒÅnuyoga',
        'universes.charananuyoga.subtitle': 'The Universe of Conduct',
        'universes.charananuyoga.description': 'Learn ethical principles and practical wisdom for righteous living as a Jain householder',
        'universes.dravyanuyoga.name': 'DravyƒÅnuyoga',
        'universes.dravyanuyoga.subtitle': 'The Universe of Reality',
        'universes.dravyanuyoga.description': 'Understand the fundamental substances and metaphysical principles that govern existence',
        'universes.locked': 'üîí Locked',
        'universes.stages': '{{count}} stages',
        'stages.firstTirthankara.name': 'The First Tƒ´rtha·πÖkara'
    },
    hi: {
        'app.name': '‡§ú‡§ø‡§®‡§∏‡§∞‡§∏‡•ç‡§µ‡§§‡•Ä',
        'app.subtitle': '‡§ú‡•à‡§® ‡§ß‡§∞‡•ç‡§Æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§ê‡§™',
        'navigation.home': '‡§π‡•ã‡§Æ',
        'navigation.profile': '‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤',
        'navigation.settings': '‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏',
        'home.welcome': '‡§µ‡§æ‡§™‡§∏ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!',
        'home.welcomeGuest': '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à, ‡§∏‡§æ‡§ß‡§ï!',
        'home.yourProgress': '‡§Ü‡§™‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø',
        'home.level': '‡§∏‡•ç‡§§‡§∞',
        'dailyPrashna.title': 'üìú ‡§¶‡•à‡§®‡§ø‡§ï ‡§™‡•ç‡§∞‡§∂‡•ç‡§®',
        'dailyPrashna.answer': '‡§â‡§§‡•ç‡§§‡§∞',
        'universes.fourUniverses': '‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•á ‡§ö‡§æ‡§∞ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§°',
        'universes.prathamanuyoga.name': '‡§™‡•ç‡§∞‡§•‡§Æ‡§æ‡§®‡•Å‡§Ø‡•ã‡§ó',
        'universes.prathamanuyoga.subtitle': '‡§ï‡§•‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§°',
        'universes.prathamanuyoga.description': '‡§§‡•Ä‡§∞‡•ç‡§•‡§Ç‡§ï‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§ï‡§π‡§æ‡§®‡§ø‡§Ø‡•ã‡§Ç ‡§î‡§∞ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§ú‡•à‡§® ‡§ß‡§∞‡•ç‡§Æ ‡§ï‡•Ä ‡§Æ‡•Ç‡§≤ ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ‡§è‡§Ç ‡§∏‡•Ä‡§ñ‡•á‡§Ç',
        'universes.karananuyoga.name': '‡§ï‡§∞‡§£‡§æ‡§®‡•Å‡§Ø‡•ã‡§ó',
        'universes.karananuyoga.subtitle': '‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§° ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡§æ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§°',
        'universes.karananuyoga.description': '3D ‡§¶‡•É‡§∂‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§î‡§∞ ‡§ú‡•à‡§® ‡§≠‡•Ç‡§ó‡•ã‡§≤ ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡•á‡§Ç',
        'universes.charananuyoga.name': '‡§ö‡§∞‡§£‡§æ‡§®‡•Å‡§Ø‡•ã‡§ó',
        'universes.charananuyoga.subtitle': '‡§Ü‡§ö‡§∞‡§£ ‡§ï‡§æ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§°',
        'universes.charananuyoga.description': '‡§ú‡•à‡§® ‡§ó‡•É‡§π‡§∏‡•ç‡§• ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ß‡§∞‡•ç‡§Æ‡§®‡§ø‡§∑‡•ç‡§† ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•à‡§§‡§ø‡§ï ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§ ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§æ‡§µ‡§π‡§æ‡§∞‡§ø‡§ï ‡§ú‡•ç‡§û‡§æ‡§® ‡§∏‡•Ä‡§ñ‡•á‡§Ç',
        'universes.dravyanuyoga.name': '‡§¶‡•ç‡§∞‡§µ‡•ç‡§Ø‡§æ‡§®‡•Å‡§Ø‡•ã‡§ó',
        'universes.dravyanuyoga.subtitle': '‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï‡§§‡§æ ‡§ï‡§æ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§°',
        'universes.dravyanuyoga.description': '‡§Ö‡§∏‡•ç‡§§‡§ø‡§§‡•ç‡§µ ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§Æ‡•å‡§≤‡§ø‡§ï ‡§™‡§¶‡§æ‡§∞‡•ç‡§•‡•ã‡§Ç ‡§î‡§∞ ‡§§‡§§‡•ç‡§µ‡§Æ‡•Ä‡§Æ‡§æ‡§Ç‡§∏‡§æ ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡•á‡§Ç',
        'universes.locked': 'üîí ‡§¨‡§Ç‡§¶',
        'universes.stages': '{{count}} ‡§ö‡§∞‡§£',
        'stages.firstTirthankara.name': '‡§™‡•ç‡§∞‡§•‡§Æ ‡§§‡•Ä‡§∞‡•ç‡§•‡§Ç‡§ï‡§∞'
    }
};

let currentLanguage = 'en';

function t(key, params = {}) {
    let translation = translations[currentLanguage][key] || key;
    
    // Handle interpolation like {{count}}
    Object.keys(params).forEach(param => {
        translation = translation.replace(new RegExp(`{{${param}}}`, 'g'), params[param]);
    });
    
    return translation;
}

function updateLanguage(lang) {
    currentLanguage = lang;
    updateAllTranslations();
    localStorage.setItem('language', lang);
    
    // Update language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.lang === lang) {
            btn.classList.add('active');
        }
    });
}

function updateAllTranslations() {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = t(key);
    });
    
    // Update dynamic content
    updateDailyPrashna();
    updateUniverses();
}

function updateDailyPrashna() {
    const questionEl = document.getElementById('daily-question');
    const answerEl = document.getElementById('daily-answer');
    
    if (currentLanguage === 'hi') {
        questionEl.textContent = '‡§≠‡§ó‡§µ‡§æ‡§® ‡§ã‡§∑‡§≠‡§¶‡•á‡§µ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§è ‡§ó‡§è ‡§õ‡§π ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§ï‡•å‡§® ‡§∏‡•á ‡§π‡•à‡§Ç?';
        answerEl.textContent = '‡§Ö‡§∏‡§ø (‡§∞‡§ï‡•ç‡§∑‡§æ), ‡§Æ‡§∏‡§ø (‡§≤‡•á‡§ñ‡§®), ‡§ï‡•É‡§∑‡§ø (‡§ñ‡•á‡§§‡•Ä), ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ (‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ), ‡§∂‡§ø‡§≤‡•ç‡§™ (‡§π‡§∏‡•ç‡§§‡§ï‡§≤‡§æ), ‡§µ‡§æ‡§£‡§ø‡§ú‡•ç‡§Ø (‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞)';
    } else {
        questionEl.textContent = 'What are the six professions taught by Lord ·πö·π£habdeva?';
        answerEl.textContent = 'Asƒ´ (Defense), Masƒ´ (Writing), K·πõ·π£i (Agriculture), VidyƒÅ (Education), ≈öilpa (Crafts), VƒÅ·πáijya (Trade)';
    }
}

// Initialize language from localStorage or browser
function initializeLanguage() {
    const savedLang = localStorage.getItem('language');
    const browserLang = navigator.language.startsWith('hi') ? 'hi' : 'en';
    const lang = savedLang || browserLang;
    updateLanguage(lang);
}
